{% extends "base.html" %}
{% block title %}Consulta de Matrícula{% endblock %}
{% block content %}
<h1>Consulta de Matrícula</h1>
<p class="muted">Digite sua matrícula para verificar o status.</p>

<form class="row" action="/matriculas/resultado" method="get">
  <input name="code" placeholder="Ex: MR25684" />
  <button>Consultar</button>
</form>

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <div class="alert">
    {% for cat, msg in messages %}
            <div class="msg {% if cat=='error' %}err{% else %}ok{% endif %}">{{ msg }}</div>
    {% endfor %}
    </div>
  {% endif %}
{% endwith %}

<p class="mt muted">
  <a class="back-link" href="/presenca">Ou confirme sua presença aqui.</a>
</p>
{% endblock %}

{% block head %}
  <style>
    /* Estilizando o contêiner de mensagens */
    .alert {
        margin-top: 16px;
        padding: 10px;
        border-radius: 10px;
        background: var(--card);
        border: 1px solid var(--line);
    }
    .msg {
        padding: 8px;
        border-radius: 6px;
        font-size: 0.95rem;
        margin: 5px 0;
    }
    /* Estilo para mensagem de ERRO */
    .msg.err {
        background: rgba(239, 68, 68, 0.2); /* Fundo sutil para o erro */
        color: var(--err); /* Texto vermelho vibrante */
        border: 1px solid var(--err);
    }
    /* Estilo para mensagem OK (sucesso/informativa) */
    .msg.ok {
        background: rgba(122, 19, 21, 0.2); /* Fundo sutil para a cor Ademicon */
        color: var(--ok); /* Texto vermelho bordô */
        border: 1px solid var(--ok);
    }
    /* Link de volta discreto (Se não estiver no base.html) */
    .back-link {
        color: var(--ok);
        text-decoration: none;
        transition: color 0.2s;
    }
    .back-link:hover {
        color: #d1a34a; /* Cor de aviso (dourado) no hover */
    }
  </style>
{% endblock %}