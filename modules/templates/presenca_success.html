{% extends "base.html" %}
{% block title %}Presen√ßa confirmada{% endblock %}

{% block head_extra %}
<style>
  .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:18px;margin-top:12px}
  .card{background:var(--card);border:1px solid var(--line);border-radius:16px;padding:16px;box-shadow:0 8px 24px rgba(0,0,0,.3);text-align:center;min-height:220px;position:relative;overflow:hidden}
  .mono{font-family:ui-monospace,Menlo,Consolas,monospace}
  .pill.ok{color:var(--ok)}
  .btn{margin-top:18px;padding:10px 14px;background:var(--ok);color:#fff;border-radius:10px;text-decoration:none;font-weight:800}

  /* Anima√ß√µes */
  .anim { animation-play-state: paused; }
  .card:hover .anim { animation-play-state: running; }
  @media (prefers-reduced-motion: reduce){ .anim{animation:none !important;} }

  /* 1) Avi√£o orbitando */
  .globe{width:180px;height:180px;margin:0 auto;position:relative}
  .earth{fill:#6b7280}.earth-land{fill:var(--ok);opacity:.85}
  .plane{width:28px;height:28px;position:absolute;top:50%;left:50%;transform-origin:-60px -60px;}
  .orbit.anim{animation:orbit 4.5s linear infinite}
  @keyframes orbit{from{transform:rotate(0)}to{transform:rotate(360deg)}}

  /* 2) Confete */
  .confetti{position:absolute;inset:0;pointer-events:none}
  .confetti span{position:absolute;width:8px;height:12px;opacity:0;border-radius:2px;}
  .confetti span:nth-child(1){left:10%;background:#ef4444;animation:drop 1.2s ease-in infinite}
  .confetti span:nth-child(2){left:22%;background:#22c55e;animation:drop 1.3s .1s ease-in infinite}
  .confetti span:nth-child(3){left:34%;background:#3b82f6;animation:drop 1.1s .2s ease-in infinite}
  .confetti span:nth-child(4){left:46%;background:var(--warn);animation:drop 1.4s .15s ease-in infinite}
  .confetti span:nth-child(5){left:58%;background:#a855f7;animation:drop 1.25s .05s ease-in infinite}
  .confetti span:nth-child(6){left:70%;background:#f97316;animation:drop 1.3s .2s ease-in infinite}
  .confetti span:nth-child(7){left:82%;background:#06b6d4;animation:drop 1.15s .25s ease-in infinite}
  @keyframes drop{0%{transform:translateY(-20px) rotate(0);opacity:0}10%{opacity:1}100%{transform:translateY(140px) rotate(240deg);opacity:0}}

  /* 3) Carro */
  .road{width:260px;height:90px;background:linear-gradient(#1b1b1b,#0f0f0f);border-radius:10px;position:relative;overflow:hidden;border:1px solid var(--line);margin:0 auto}
  .lane{position:absolute;left:0;right:0;height:4px;top:50%;background:repeating-linear-gradient(90deg,transparent 0 26px,#f4f4f4 26px 52px);opacity:.7}
  .car{position:absolute;bottom:12px;left:-120px;width:110px;height:44px;background:var(--ok);border:2px solid #501010;border-radius:8px;box-shadow:inset 0 -6px 0 rgba(0,0,0,.15)}
  .car:before{content:"";position:absolute;left:8px;top:-14px;width:46px;height:28px;background:#9a2a2d;border:2px solid #501010;border-radius:8px}
  .win{position:absolute;left:24px;top:-8px;width:22px;height:16px;background:#ddd;border-radius:3px}
  .wheel{position:absolute;bottom:-10px;width:24px;height:24px;border-radius:50%;background:radial-gradient(circle at 50% 50%,#444 0 45%,#111 46% 100%);border:2px solid #000}
  .w1{left:14px}.w2{right:16px}
  .drive.anim{animation:drive 2.2s ease-in-out infinite}
  .spin.anim{animation:spin .7s linear infinite}
  @keyframes drive{0%{transform:translateX(0)}60%{transform:translateX(330px)}100%{transform:translateX(460px)}}
  @keyframes spin{from{transform:rotate(0)}to{transform:rotate(360deg)}}

  /* 4) Pessoa entrando */
  .yard{width:240px;height:130px;margin:0 auto;position:relative;background:linear-gradient(#2b2727,#1f1c1c);border:1px solid var(--line);border-radius:10px;overflow:hidden}
  .house{position:absolute;right:24px;bottom:16px;width:90px;height:70px;background:#383434;border:2px solid #111;border-radius:6px}
  .roof{position:absolute;right:22px;bottom:84px;width:96px;height:24px;background:#111;clip-path:polygon(50% 0,100% 100%,0 100%)}
  .door{position:absolute;right:44px;bottom:16px;width:30px;height:48px;background:#0b1222;border:2px solid #0f172a}
  .person{position:absolute;left:10px;bottom:18px;width:20px;height:42px}
  .head{width:18px;height:18px;border-radius:50%;background:var(--warn);margin:0 auto 2px}
  .body{width:14px;height:20px;background:var(--ok);border-radius:3px;margin:0 auto}
  .enter.anim{animation:enter 2s ease-in-out forwards}
  @keyframes enter{0%{transform:translateX(0);opacity:1}80%{transform:translateX(150px);opacity:1}100%{transform:translateX(170px);opacity:.0}}
</style>
{% endblock %}

{% block content %}
  <div class="pill ok">‚úÖ Presen√ßa confirmada</div>
  <h1>Matr√≠cula <span class="mono">{{ code }}</span> registrada com sucesso!</h1>
  <p class="muted">Aproveite o evento <b>MultiplicadorAdemicon</b>! üéâ</p>

  <div class="grid mt">
    <div class="card">
      <h3>Avia√ß√£o üåç</h3>
      <div class="globe">
        <svg viewBox="0 0 200 200" width="180" height="180"><circle cx="100" cy="100" r="70" class="earth"/><path d="M110,70 C130,90 130,110 110,130 C90,110 70,110 70,100 C70,90 90,70 110,70Z" class="earth-land"/></svg>
        <div class="plane orbit anim"><svg viewBox="0 0 64 64" width="28" height="28"><path d="M4 30 L40 30 L60 20 L62 24 L46 32 L60 40 L58 44 L40 34 L4 34 Z" fill="#f4f4f4"/></svg></div>
      </div>
    </div>

    <div class="card">
      <h3>Festa de formatura üéì</h3>
      <div class="confetti">
        <span class="anim"></span><span class="anim"></span><span class="anim"></span><span class="anim"></span><span class="anim"></span>
        <span class="anim"></span><span class="anim"></span><span class="anim"></span>
      </div>
      <p class="muted">Passe o mouse</p>
    </div>

    <div class="card">
      <h3>Carro na estrada üöó</h3>
      <div class="road">
        <div class="lane anim" style="animation: dash 1s linear infinite;"></div>
        <style>@keyframes dash{from{transform:translateX(0)}to{transform:translateX(-52px)}}</style>
        <div class="car drive anim"><div class="win"></div><div class="wheel w1 spin anim"></div><div class="wheel w2 spin anim"></div></div>
      </div>
    </div>

    <div class="card">
      <h3>Chegando em casa üè†</h3>
      <div class="yard">
        <div class="roof"></div><div class="house"></div><div class="door"></div>
        <div class="person enter anim"><div class="head"></div><div class="body"></div></div>
      </div>
    </div>
  </div>

  <a class="btn" href="/presenca">Registrar outra presen√ßa</a>
{% endblock %}